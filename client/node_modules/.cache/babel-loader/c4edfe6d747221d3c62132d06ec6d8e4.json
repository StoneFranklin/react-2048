{"ast":null,"code":"var _jsxFileName = \"/Users/stonefranklin/code/web/2048/client/src/components/Board.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport Square from './Square';\nimport { Grid, Container, Button } from '@material-ui/core';\nimport '../styles.css';\nimport { Link, Redirect } from 'react-router-dom';\nimport KeyboardEventHandler from 'react-keyboard-event-handler';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Board() {\n  _s();\n\n  const [board, setBoard] = useState([[0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0]]);\n  const [hasCombined, setHasCombined] = useState([[0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0]]);\n  const [score, setScore] = useState(0);\n  const [redirect, setRedirect] = useState(false);\n  let generate = false;\n  const emptyMatrix = [[0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0]];\n\n  function getColor(number) {\n    switch (number) {\n      case 2:\n        return \"_2\";\n\n      case 4:\n        return \"_4\";\n\n      case 8:\n        return \"_8\";\n\n      case 16:\n        return \"_16\";\n\n      case 32:\n        return \"_32\";\n\n      case 64:\n        return \"_64\";\n\n      case 128:\n        return \"_128\";\n\n      case 256:\n        return \"_256\";\n\n      case 512:\n        return \"_512\";\n\n      case 1024:\n        return \"_1024\";\n\n      case 2048:\n        return \"_2048\";\n\n      default:\n        return \"large\";\n    }\n  }\n\n  function checkForMoves(row, col) {\n    // Right\n    if (col < 3 && board[row][col] === board[row][col + 1]) {\n      return true;\n    } // Left\n\n\n    if (col > 0 && board[row][col] === board[row][col - 1]) {\n      return true;\n    } // Up\n\n\n    if (row > 0 && board[row][col] === board[row - 1][col]) {\n      return true;\n    } // Down\n\n\n    if (row < 3 && board[row][col] === board[row + 1][col]) {\n      return true;\n    }\n  }\n\n  function checkForGameOver() {\n    let isFull = true;\n    let isMove = false;\n\n    for (let i = 0; i < 4; i++) {\n      for (let j = 0; j < 4; j++) {\n        if (board[i][j] === 0) {\n          isFull = false;\n        }\n\n        isMove = checkForMoves(i, j);\n      }\n    }\n\n    if (isFull && !isMove) {\n      setBoard(emptyMatrix);\n      setRedirect(true);\n    }\n  }\n\n  function randomPosition() {\n    const row = Math.floor(Math.random() * 4);\n    const col = Math.floor(Math.random() * 4);\n\n    if (board[row][col] === 0) {\n      return [row, col];\n    }\n\n    return randomPosition();\n  }\n\n  function startSquares() {\n    setScore(0);\n    let matrix = emptyMatrix;\n    const pos1 = randomPosition();\n    let pos2;\n\n    do {\n      pos2 = randomPosition();\n    } while (pos1[0] === pos2[0] && pos1[1] === pos2[1]);\n\n    matrix[pos1[0]][pos1[1]] = 2;\n    matrix[pos2[0]][pos2[1]] = 2;\n    setBoard(matrix);\n  }\n\n  function randomSquare() {\n    let copy = [...board];\n    const newSquare = randomPosition();\n    copy[newSquare[0]][newSquare[1]] = 2;\n    setBoard(copy);\n  }\n\n  function afterSlide() {\n    if (generate) {\n      setTimeout(() => {\n        randomSquare();\n      }, 100);\n    }\n\n    generate = false;\n    checkForGameOver();\n    setHasCombined(emptyMatrix);\n  }\n\n  function slideAllRight() {\n    for (let i = 0; i < 4; i++) {\n      for (let j = 2; j >= 0; j--) {\n        if (board[i][j] > 0) {\n          slideRight(i, j);\n        }\n      }\n    }\n\n    afterSlide();\n  }\n\n  function slideRight(row, col) {\n    let boardCopy = [...board];\n    let combinedCopy = [...hasCombined];\n\n    for (let i = col + 1; i < 4; i++) {\n      if (boardCopy[row][i] === 0) {\n        boardCopy[row][i] = board[row][i - 1];\n        boardCopy[row][i - 1] = 0;\n        generate = true;\n      } else if (boardCopy[row][i] === boardCopy[row][i - 1] && !combinedCopy[row][i - 1]) {\n        boardCopy[row][i] = boardCopy[row][i] * 2;\n        setScore(score + boardCopy[row][i]);\n        boardCopy[row][i - 1] = 0;\n        combinedCopy[row][i] = true;\n        generate = true;\n      }\n    }\n\n    setBoard(boardCopy);\n    setHasCombined(combinedCopy);\n  }\n\n  function slideAllLeft() {\n    for (let i = 0; i < 4; i++) {\n      for (let j = 1; j < 4; j++) {\n        if (board[i][j] > 0) {\n          slideLeft(i, j);\n        }\n      }\n    }\n\n    afterSlide();\n  }\n\n  function slideLeft(row, col) {\n    let boardCopy = [...board];\n    let combinedCopy = [...hasCombined];\n\n    for (let i = col; i >= 0; i--) {\n      if (boardCopy[row][i - 1] === 0) {\n        boardCopy[row][i - 1] = board[row][i];\n        boardCopy[row][i] = 0;\n        generate = true;\n      } else if (boardCopy[row][i - 1] === boardCopy[row][i] && !combinedCopy[row][i]) {\n        boardCopy[row][i - 1] = boardCopy[row][i] * 2;\n        setScore(score + boardCopy[row][i - 1]);\n        boardCopy[row][i] = 0;\n        combinedCopy[row][i - 1] = true;\n        generate = true;\n      }\n    }\n\n    setBoard(boardCopy);\n    setHasCombined(combinedCopy);\n  }\n\n  function slideAllUp() {\n    for (let i = 0; i < 4; i++) {\n      for (let j = 1; j < 4; j++) {\n        if (board[j][i] > 0) {\n          slideUp(j, i);\n        }\n      }\n    }\n\n    afterSlide();\n  }\n\n  function slideUp(row, col) {\n    let boardCopy = [...board];\n    let combinedCopy = [...hasCombined];\n\n    for (let i = row; i > 0; i--) {\n      if (boardCopy[i - 1][col] === 0) {\n        boardCopy[i - 1][col] = board[i][col];\n        boardCopy[i][col] = 0;\n        generate = true;\n      } else if (boardCopy[i][col] === boardCopy[i - 1][col] && !combinedCopy[i][col]) {\n        boardCopy[i - 1][col] = boardCopy[i][col] * 2;\n        setScore(score + boardCopy[i - 1][col]);\n        boardCopy[i][col] = 0;\n        combinedCopy[i - 1][col] = true;\n        generate = true;\n      }\n    }\n\n    setBoard(boardCopy);\n    setHasCombined(combinedCopy);\n  }\n\n  function slideAllDown() {\n    for (let i = 0; i < 4; i++) {\n      for (let j = 2; j >= 0; j--) {\n        if (board[j][i] > 0) {\n          slideDown(j, i);\n        }\n      }\n    }\n\n    afterSlide();\n  }\n\n  function slideDown(row, col) {\n    let boardCopy = [...board];\n    let combinedCopy = [...hasCombined];\n\n    for (let i = row + 1; i < 4; i++) {\n      if (boardCopy[i][col] === 0) {\n        boardCopy[i][col] = board[i - 1][col];\n        boardCopy[i - 1][col] = 0;\n        generate = true;\n      } else if (boardCopy[i][col] === boardCopy[i - 1][col] && !combinedCopy[i - 1][col]) {\n        boardCopy[i][col] = boardCopy[i][col] * 2;\n        setScore(score + boardCopy[i][col]);\n        boardCopy[i - 1][col] = 0;\n        combinedCopy[i][col] = true;\n        generate = true;\n      }\n    }\n\n    setBoard(boardCopy);\n    setHasCombined(combinedCopy);\n  }\n\n  return /*#__PURE__*/_jsxDEV(Container, {\n    maxWidth: \"xs\",\n    className: \"board-screen\",\n    children: [/*#__PURE__*/_jsxDEV(KeyboardEventHandler, {\n      handleKeys: ['right'],\n      onKeyEvent: () => slideAllRight(),\n      handleFocusableElements: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 313,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(KeyboardEventHandler, {\n      handleKeys: ['left'],\n      onKeyEvent: () => slideAllLeft(),\n      handleFocusableElements: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 317,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(KeyboardEventHandler, {\n      handleKeys: ['up'],\n      onKeyEvent: () => slideAllUp(),\n      handleFocusableElements: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 321,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(KeyboardEventHandler, {\n      handleKeys: ['down'],\n      onKeyEvent: () => slideAllDown(),\n      handleFocusableElements: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 325,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      direction: \"row\",\n      justifyContent: \"center\",\n      alignItems: \"center\",\n      spacing: 3,\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          className: \"play-button\",\n          variant: \"outlined\",\n          color: \"primary\",\n          onClick: () => startSquares(),\n          children: \"Play\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 338,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 337,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 341,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/leaderboard\",\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          className: \"play-button\",\n          variant: \"outlined\",\n          color: \"primary\",\n          onClick: () => startSquares(),\n          children: \"Leaderboard\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 344,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 343,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 330,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"score\",\n      children: score\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 349,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"board\",\n      children: /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        spacing: 1,\n        direction: \"row\",\n        justify: \"center\",\n        alignItems: \"center\",\n        children: board.map(row => row.map(value => /*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          item: true,\n          xs: 3,\n          spacing: 0,\n          children: /*#__PURE__*/_jsxDEV(Square, {\n            value: value,\n            class: `square ${getColor(value)}`\n          }, Math.floor(Math.random() * value), false, {\n            fileName: _jsxFileName,\n            lineNumber: 362,\n            columnNumber: 33\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 361,\n          columnNumber: 29\n        }, this)))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 351,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 350,\n      columnNumber: 13\n    }, this), redirect ? /*#__PURE__*/_jsxDEV(Redirect, {\n      to: {\n        pathname: \"/submit-score\",\n        state: {\n          score: score\n        }\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 369,\n      columnNumber: 25\n    }, this) : null]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 312,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Board, \"pb8pArGY5GSdnuF7501K6gs02dM=\");\n\n_c = Board;\nexport default Board;\n\nvar _c;\n\n$RefreshReg$(_c, \"Board\");","map":{"version":3,"sources":["/Users/stonefranklin/code/web/2048/client/src/components/Board.js"],"names":["React","useState","Square","Grid","Container","Button","Link","Redirect","KeyboardEventHandler","Board","board","setBoard","hasCombined","setHasCombined","score","setScore","redirect","setRedirect","generate","emptyMatrix","getColor","number","checkForMoves","row","col","checkForGameOver","isFull","isMove","i","j","randomPosition","Math","floor","random","startSquares","matrix","pos1","pos2","randomSquare","copy","newSquare","afterSlide","setTimeout","slideAllRight","slideRight","boardCopy","combinedCopy","slideAllLeft","slideLeft","slideAllUp","slideUp","slideAllDown","slideDown","map","value","pathname","state"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport Square from './Square';\nimport { Grid, Container, Button } from '@material-ui/core';\nimport '../styles.css';\nimport { Link, Redirect } from 'react-router-dom';\nimport KeyboardEventHandler from 'react-keyboard-event-handler';\n\nfunction Board() {\n    const [board, setBoard] = useState(\n        [\n            [0, 0, 0, 0],\n            [0, 0, 0, 0],\n            [0, 0, 0, 0],\n            [0, 0, 0, 0]\n        ]\n    );\n\n    const [hasCombined, setHasCombined] = useState(\n        [\n            [0, 0, 0, 0],\n            [0, 0, 0, 0],\n            [0, 0, 0, 0],\n            [0, 0, 0, 0]\n        ]\n    );\n\n    const [score, setScore] = useState(0);\n\n    const [redirect, setRedirect] = useState(false)\n\n    let generate = false;\n\n    const emptyMatrix = [\n        [0, 0, 0, 0],\n        [0, 0, 0, 0],\n        [0, 0, 0, 0],\n        [0, 0, 0, 0]\n    ];\n\n    function getColor(number) {\n        switch (number) {\n            case 2:\n                return \"_2\";\n        \n            case 4:\n                return \"_4\";\n                \n            case 8:\n                return \"_8\";\n                \n            case 16:\n                return \"_16\";\n            \n            case 32:\n                return \"_32\";\n            \n            case 64:\n                return \"_64\";\n\n            case 128:\n                return \"_128\";\n\n            case 256:\n                return \"_256\";\n\n            case 512:\n                return \"_512\";\n\n            case 1024:\n                return \"_1024\";\n\n            case 2048:\n                return \"_2048\";\n                \n            default:\n                return \"large\"\n        }\n    }\n\n    function checkForMoves(row, col) {\n        // Right\n        if (col < 3 && board[row][col] === board[row][col + 1]) {\n            return true;\n        }\n\n        // Left\n        if (col > 0 && board[row][col] === board[row][col - 1]) {\n            return true;\n        }\n\n        // Up\n        if (row > 0 && board[row][col] === board[row - 1][col]) {\n            return true;\n        }\n\n        // Down\n        if (row < 3 && board[row][col] === board[row + 1][col]) {\n            return true;\n        }\n    }\n\n    function checkForGameOver() {\n        let isFull = true;\n        let isMove = false;\n\n        for (let i = 0; i < 4; i++) {\n            for (let j = 0; j < 4; j++) {\n                if(board[i][j] === 0) {\n                    isFull = false;\n                }\n\n                isMove = checkForMoves(i, j)\n            }\n        }\n\n        if (isFull && !isMove) {\n            setBoard(emptyMatrix);\n            setRedirect(true)\n        }\n    }\n\n    function randomPosition() {\n        const row = Math.floor(Math.random() * 4);\n        const col = Math.floor(Math.random() * 4);\n\n        if(board[row][col] === 0) {\n            return [row, col]\n        }\n        \n        return randomPosition();\n    }\n\n    function startSquares() {\n        setScore(0);\n        let matrix = emptyMatrix;\n        \n        const pos1 = randomPosition();\n        let pos2;\n\n        do {\n            pos2 = randomPosition();\n        } while(pos1[0] === pos2[0] && pos1[1] === pos2[1])\n\n        matrix[pos1[0]][pos1[1]] = 2;\n        matrix[pos2[0]][pos2[1]] = 2;\n\n        setBoard(matrix);  \n    }\n\n    function randomSquare() {\n        let copy = [...board];\n        const newSquare = randomPosition();\n\n        copy[newSquare[0]][newSquare[1]] = 2;\n\n        setBoard(copy);\n    }\n\n    function afterSlide() {\n        if (generate) {\n            setTimeout(() => {\n                randomSquare();\n            }, 100)\n        }\n        \n        generate = false;\n        checkForGameOver();\n        setHasCombined(emptyMatrix);\n    }\n    \n    function slideAllRight() {\n        for (let i = 0; i < 4; i++) {\n            for(let j = 2; j >= 0; j--) {\n                if(board[i][j] > 0) {\n                    slideRight(i, j)\n                }\n            }\n        } \n      \n        afterSlide();\n    }\n\n    function slideRight(row, col) {\n        let boardCopy = [...board]\n        let combinedCopy = [...hasCombined]\n        \n        for(let i = col + 1; i < 4; i++) {\n            if(boardCopy[row][i] === 0) {\n                boardCopy[row][i] = board[row][i - 1];\n                boardCopy[row][i - 1] = 0;\n                generate = true;\n            }\n            else if(boardCopy[row][i] === boardCopy[row][i - 1] && !combinedCopy[row][i - 1]) {\n                boardCopy[row][i] = boardCopy[row][i] * 2;\n                setScore(score + boardCopy[row][i])\n                boardCopy[row][i - 1] = 0;\n                combinedCopy[row][i] = true;\n                generate = true;\n            }\n        }\n        \n        setBoard(boardCopy);\n        setHasCombined(combinedCopy);\n    }\n\n    function slideAllLeft() {\n        for(let i = 0; i < 4; i++) {\n            for(let j = 1; j < 4; j++) {\n                if(board[i][j] > 0) {\n                    slideLeft(i, j);\n                }\n            }\n        } \n        \n        afterSlide();\n    }\n\n    function slideLeft(row, col) {\n        let boardCopy = [...board]\n        let combinedCopy = [...hasCombined]\n\n        for(let i = col; i >= 0; i--) {\n            if(boardCopy[row][i - 1] === 0) {\n                boardCopy[row][i - 1] = board[row][i];\n                boardCopy[row][i] = 0;\n                generate = true;\n            }\n            else if(boardCopy[row][i - 1] === boardCopy[row][i] && !combinedCopy[row][i]) {\n                boardCopy[row][i - 1] = boardCopy[row][i] * 2;\n                setScore(score + boardCopy[row][i - 1])\n                boardCopy[row][i] = 0;\n                combinedCopy[row][i - 1] = true;\n                generate = true;\n            }\n        }\n        \n        setBoard(boardCopy);\n        setHasCombined(combinedCopy);\n    }\n\n    function slideAllUp() {\n        for(let i = 0; i < 4; i++) {\n            for(let j = 1; j < 4; j++) {\n                if(board[j][i] > 0) {\n                    slideUp(j, i);\n                }\n            }\n        } \n\n        afterSlide();\n    }\n\n    function slideUp(row, col) {\n        let boardCopy = [...board]\n        let combinedCopy = [...hasCombined]\n\n        for(let i = row; i > 0; i--) {\n            if(boardCopy[i - 1][col] === 0) {\n                boardCopy[i - 1][col] = board[i][col];\n                boardCopy[i][col] = 0;\n                generate = true;\n            }\n            else if(boardCopy[i][col] === boardCopy[i - 1][col] && !combinedCopy[i][col]) {\n                boardCopy[i - 1][col] = boardCopy[i][col] * 2;\n                setScore(score + boardCopy[i - 1][col])\n                boardCopy[i][col] = 0;\n                combinedCopy[i - 1][col] = true;\n                generate = true;\n            }\n        }\n        \n        setBoard(boardCopy);\n        setHasCombined(combinedCopy);\n    }\n\n    function slideAllDown() {\n        for(let i = 0; i < 4; i++) {\n            for(let j = 2; j >= 0; j--) {\n                if(board[j][i] > 0) {\n                    slideDown(j, i);\n                }\n            }\n        } \n\n        afterSlide();\n    }\n\n    function slideDown(row, col) {\n        let boardCopy = [...board]\n        let combinedCopy = [...hasCombined]\n\n        for(let i = row + 1; i < 4; i++) {\n            if(boardCopy[i][col] === 0) {\n                boardCopy[i][col] = board[i - 1][col];\n                boardCopy[i - 1][col] = 0;\n                generate = true;\n            }\n            else if(boardCopy[i][col] === boardCopy[i - 1][col] && !combinedCopy[i - 1][col]) {\n                boardCopy[i][col] = boardCopy[i][col] * 2;\n                setScore(score + boardCopy[i][col])\n                boardCopy[i - 1][col] = 0;\n                combinedCopy[i][col] = true;\n                generate = true;\n            }\n        }\n        \n        setBoard(boardCopy);\n        setHasCombined(combinedCopy);\n    }\n \n    return (\n        <Container maxWidth=\"xs\" className=\"board-screen\">\n            <KeyboardEventHandler\n                handleKeys={['right']}\n                onKeyEvent={() => slideAllRight()}\n                handleFocusableElements={true}/>\n            <KeyboardEventHandler\n                handleKeys={['left']}\n                onKeyEvent={() => slideAllLeft()}\n                handleFocusableElements={true} />\n            <KeyboardEventHandler\n                handleKeys={['up']}\n                onKeyEvent={() => slideAllUp()}\n                handleFocusableElements={true} />\n            <KeyboardEventHandler\n                handleKeys={['down']}\n                onKeyEvent={() => slideAllDown()}\n                handleFocusableElements={true} />\n                \n            <Grid \n                container\n                direction=\"row\"\n                justifyContent=\"center\"\n                alignItems=\"center\"\n                spacing={3}\n            >\n                <Grid item>\n                    <Button className=\"play-button\" variant=\"outlined\" color=\"primary\" onClick={() => startSquares()}>Play</Button>\n                </Grid>\n                \n                <Grid item></Grid>\n\n                <Link to=\"/leaderboard\">\n                    <Button className=\"play-button\" variant=\"outlined\" color=\"primary\" onClick={() => startSquares()}>Leaderboard</Button>\n                </Link>\n            </Grid>\n            \n            \n            <h1 className=\"score\">{score}</h1>\n            <div className=\"board\">\n                <Grid \n                    container\n                    spacing={1}\n                    direction=\"row\"\n                    justify=\"center\"\n                    alignItems=\"center\"\n                    \n                >\n                    {board.map(row => \n                        row.map(value => \n                            <Grid container item xs={3} spacing={0} >\n                                <Square key={Math.floor(Math.random() * value)} value={value} class={`square ${getColor(value)}`} />\n                            </Grid>\n                        )\n                    )}\n                </Grid>\n            </div>\n            \n            {redirect ? <Redirect to={{ pathname: \"/submit-score\", state: { score: score }}} /> : null}\n        </Container>\n    )\n    \n    \n}\n\nexport default Board"]},"metadata":{},"sourceType":"module"}